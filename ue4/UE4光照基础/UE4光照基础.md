---
typora-copy-images-to: ..\UE4光照基础图片
---





## 光照烘培

左上角出现：![image-20210701223548722](UE4光照基础图片\image-20210701223548722.png)

表明有光照需要进行烘培。

Mobility中Static光照就是烘培光照，点击build后选择Build Lighting Only后，UE会开启Lightmass，烘培会计算光线反射后的结果，烘培完成后，灯光不能移动，否则预览阴影会与烘培阴影同时出现，除非重新烘培。

![image-20210701230814272](UE4光照基础图片\image-20210701230814272.png)

修改烘培光照的质量：

①Build下

![image-20210701224402230](UE4光照基础图片\image-20210701224402230.png)

②world settings 下![image-20210701224426675](UE4光照基础图片\image-20210701224426675.png)

主要设置

Static Lighting Level Scale：静态光照层级比例，表示光照整体质量

Num Indirect Lighting Bound：间接光照反射次数。

Num Sky Lighting Bounces：天光光照反射次数，大气层光线反射次数。

Indirect Lighting Quality:间接光照质量。

每次设置都要重新烘培才能看到效果。





Lightmass Importance Volume：

Volume下找到该体 。该盒体确保覆盖住所有需要高品质光照效果的场景，避免把算力浪费浪费在远处对象。

Lightmass Portals：

帮助天光和大气层反射进室内空间。





Lightmaps

光照贴图：采集了颜色和阴影的图像，然后将其与模型自身纹理相乘即可看到模拟光照效果。

引擎需要用于光照贴图的UV坐标通道。下图是已有光照UV通道的模型。

![image-20210701233518235](UE4光照基础图片\image-20210701233518235.png)



UE默认自动生成第二个UV通道，如果我们需要自己在外部生成，则可以如下图取消UE生成操作。



![image-20210701233948775](UE4光照基础图片\image-20210701233948775.png)

将模型导出到外部：

![image-20210701234343635](UE4光照基础图片\image-20210701234343635.png)

同时，如果需要UE生成高分辨的Light Map，可以如下设置。

![image-20210701234145104](UE4光照基础图片\image-20210701234145104.png)



另一种LightMap，体积光照贴图。

![image-20210701234609917](UE4光照基础图片\image-20210701234609917.png)

构建光照后，它们可以储存光照信息，以供那些移动的模型获取光照信息。



动态光照：

Mobility设置为movable，不需要烘培，不产生反射光照，实时产生光照效果。

Mobility设置为Staionary，兼具静态和动态的特点。

Staionary未烘培前：

![image-20210701235338515](UE4光照基础图片\image-20210701235338515.png)

烘培后：

![image-20210701235402656](UE4光照基础图片\image-20210701235402656.png)



室外：

CSM:级联阴影贴图

![image-20210701235923747](UE4光照基础图片\image-20210701235923747.png)

![image-20210701235933977](UE4光照基础图片\image-20210701235933977.png)

![image-20210701235947545](UE4光照基础图片\image-20210701235947545.png)

使用Directional Light

调节面板：

![image-20210702000046394](UE4光照基础图片\image-20210702000046394.png)

DF：

开启

![image-20210702000347955](UE4光照基础图片\image-20210702000347955.png)

开启后会为所有模型创建网格体距离场

![image-20210702001601449](UE4光照基础图片\image-20210702001601449.png)

当CSM超出一定距离后，会使用DF代替，这时不会再显示有关阴影的动画了。

DFAO：

距离场环境光遮蔽由Skylight产生，实时的。原理是通过距离场网格体，模拟光线反射以及环境光遮蔽效果，但由于距离场不够精确，效果不能保证

调节面板。

![image-20210702002449421](UE4光照基础图片\image-20210702002449421.png)



总结定向光源应当使用Stationary类型。





结合静态与动态光：

最重要，体积最大的才需要高分辨率的Lightmap。

如有必要生成AO，在World setting 下Lightmass勾选

![image-20210702142812860](UE4光照基础图片\image-20210702142812860.png)

如果要建筑可视化，非游戏的可以弃选以达到最高质量Lightmap：

![image-20210702142852304](UE4光照基础图片\image-20210702142852304.png)







光照特殊效果：

灯光基本调节，Source Length调节横向长度，可以实现灯管光照效果。

![image-20210702143323110](UE4光照基础图片\image-20210702143323110.png)

![image-20210702143428613](UE4光照基础图片\image-20210702143428613.png)





IES：用于聚光灯。

![image-20210702143708801](UE4光照基础图片\image-20210702143708801.png)



创建水面焦散效果：

使用光照函数：允许将材质和光源结合，投射光照结果是材质和光源混合后的结果，适用于高级光照效果，但不能调整颜色。

常用于定向光云层遮蔽。

材质设置范例

![image-20210702143921715](UE4光照基础图片\image-20210702143921715.png)

![image-20210702143936367](UE4光照基础图片\image-20210702143936367.png)



建立一个Spot Light，并设置为Movable，关闭Cast Shadows，Light Function下指定上述材质。

增加一点UV动画

![image-20210702144559808](UE4光照基础图片\image-20210702144559808.png)







反射：

SSR（Screen Space Reflection）：只能反射当前已渲染画面，即镜头外的不能反射。

Sphere Reflection Capture：非实时的，它会采集一张360度的图像用于反射。不能反映移动物体的实际反射。与SSR结合，SSR优先级最高，最好放置靠近高光或高反射的区域。

调节RC效果，原始分辨率为256![image-20210702145250598](UE4光照基础图片\image-20210702145250598.png)

------

Planar Reflection：平面反射，用于体积小面积小的，它既可以实时渲染，又能捕捉图像。

关闭预览平面

![image-20210702145814860](UE4光照基础图片\image-20210702145814860.png)

勾选该选项会加大内存开销

![image-20210702145732194](UE4光照基础图片\image-20210702145732194.png)

如果要启用则需勾选

![image-20210702150815747](UE4光照基础图片\image-20210702150815747.png)



------

Scene Capture Cube：会放置一个摄像机，手动创建一个

![image-20210702150154947](UE4光照基础图片\image-20210702150154947.png)

并进行如下选中

![image-20210702150406526](UE4光照基础图片\image-20210702150406526.png)







雾效和体积光



